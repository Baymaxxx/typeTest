<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<div id="str"></div>
<script src="scripts/jquery-1.11.3.min.js"></script>
<script>
    function getStringLen(Str,Num) {
        var len, code;
        len = Str.length;
        var divArr = [];
        if (Str == null || Str == "" || len <= Num){
            return 0;
        }
        for (var i = 0; i < Str.length; i++) {
            code = Str.charCodeAt(i);
            //code > 255为汉字 len=2
            if (code > 255) {
                len++;
            }
        }
        var strArr = Str.split('');
        console.log(strArr.length,len);
        for(var j = 0; j <= len; j++){
            if(j % Num == Num-1){
                strArr[Math.ceil(j/2)] += '/***/';
            }
        }
        var str = strArr.join('');
        return str;
    }
    function ajaxHandler(Data) {
        var data = Data.replace(/[\r\n]/g,"").replace(/[ ]/g,"");
        console.log(data);
        $('#str').html(getStringLen(data,80));
    }
    $.ajax({
        url: 'article.txt',
        type: 'GET',
        success: ajaxHandler
    });
</script>
</body>
</html>